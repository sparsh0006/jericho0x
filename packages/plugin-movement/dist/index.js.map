{"version":3,"sources":["../src/actions/transfer.ts","../src/providers/wallet.ts","../src/constants.ts","../src/index.ts"],"sourcesContent":["import { elizaLogger } from \"@elizaos/core\";\r\nimport {\r\n    ActionExample,\r\n    Content,\r\n    HandlerCallback,\r\n    IAgentRuntime,\r\n    Memory,\r\n    ModelClass,\r\n    State,\r\n    type Action,\r\n} from \"@elizaos/core\";\r\nimport { composeContext } from \"@elizaos/core\";\r\nimport { generateObjectDeprecated } from \"@elizaos/core\";\r\nimport {\r\n    Account,\r\n    Aptos,\r\n    AptosConfig,\r\n    Ed25519PrivateKey,\r\n    Network,\r\n    PrivateKey,\r\n    PrivateKeyVariants,\r\n} from \"@aptos-labs/ts-sdk\";\r\nimport { walletProvider } from \"../providers/wallet\";\r\nimport { MOVEMENT_NETWORK_CONFIG, MOVE_DECIMALS, MOVEMENT_EXPLORER_URL } from \"../constants\";\r\n\r\nexport interface TransferContent extends Content {\r\n    recipient: string;\r\n    amount: string | number;\r\n}\r\n\r\nfunction isTransferContent(content: any): content is TransferContent {\r\n    elizaLogger.debug(\"Validating transfer content:\", content);\r\n    return (\r\n        typeof content.recipient === \"string\" &&\r\n        (typeof content.amount === \"string\" ||\r\n            typeof content.amount === \"number\")\r\n    );\r\n}\r\n\r\nconst transferTemplate = `You are processing a token transfer request. Extract the recipient address and amount from the message.\r\n\r\nExample request: \"can you send 1 move to 0x123...\"\r\nExample response:\r\n\\`\\`\\`json\r\n{\r\n    \"recipient\": \"0x123...\",\r\n    \"amount\": \"1\"\r\n}\r\n\\`\\`\\`\r\n\r\nRules:\r\n1. The recipient address always starts with \"0x\"\r\n2. The amount is typically a number less than 100\r\n3. Return exact values found in the message\r\n\r\nRecent messages:\r\n{{recentMessages}}\r\n\r\nExtract and return ONLY the following in a JSON block:\r\n- recipient: The wallet address starting with 0x\r\n- amount: The number of tokens to send\r\n\r\nReturn ONLY the JSON block with these two fields.`;\r\n\r\nexport default {\r\n    name: \"TRANSFER_MOVE\",\r\n    similes: [\r\n        \"SEND_TOKEN\",\r\n        \"TRANSFER_TOKEN\",\r\n        \"TRANSFER_TOKENS\",\r\n        \"SEND_TOKENS\",\r\n        \"SEND_MOVE\",\r\n        \"PAY\",\r\n    ],\r\n    triggers: [\r\n        \"send move\",\r\n        \"send 1 move\",\r\n        \"transfer move\",\r\n        \"send token\",\r\n        \"transfer token\",\r\n        \"can you send\",\r\n        \"please send\",\r\n        \"send\"\r\n    ],\r\n    shouldHandle: (message: Memory) => {\r\n        const text = message.content?.text?.toLowerCase() || \"\";\r\n        return text.includes(\"send\") && text.includes(\"move\") && text.includes(\"0x\");\r\n    },\r\n    validate: async (runtime: IAgentRuntime, message: Memory) => {\r\n        elizaLogger.debug(\"Starting transfer validation for user:\", message.userId);\r\n        elizaLogger.debug(\"Message text:\", message.content?.text);\r\n        return true; // Let the handler do the validation\r\n    },\r\n    priority: 1000, // High priority for transfer actions\r\n    description: \"Transfer Move tokens from the agent's wallet to another address\",\r\n    handler: async (\r\n        runtime: IAgentRuntime,\r\n        message: Memory,\r\n        state: State,\r\n        _options: { [key: string]: unknown },\r\n        callback?: HandlerCallback\r\n    ): Promise<boolean> => {\r\n        elizaLogger.debug(\"Starting TRANSFER_MOVE handler...\");\r\n        elizaLogger.debug(\"Message:\", {\r\n            text: message.content?.text,\r\n            userId: message.userId,\r\n            action: message.content?.action\r\n        });\r\n\r\n        try {\r\n            const privateKey = runtime.getSetting(\"MOVEMENT_PRIVATE_KEY\");\r\n            elizaLogger.debug(\"Got private key:\", privateKey ? \"Present\" : \"Missing\");\r\n\r\n            const network = runtime.getSetting(\"MOVEMENT_NETWORK\");\r\n            elizaLogger.debug(\"Network config:\", network);\r\n            elizaLogger.debug(\"Available networks:\", Object.keys(MOVEMENT_NETWORK_CONFIG));\r\n\r\n            const movementAccount = Account.fromPrivateKey({\r\n                privateKey: new Ed25519PrivateKey(\r\n                    PrivateKey.formatPrivateKey(\r\n                        privateKey,\r\n                        PrivateKeyVariants.Ed25519\r\n                    )\r\n                ),\r\n            });\r\n            elizaLogger.debug(\"Created Movement account:\", movementAccount.accountAddress.toStringLong());\r\n\r\n            const aptosClient = new Aptos(\r\n                new AptosConfig({\r\n                    network: Network.CUSTOM,\r\n                    fullnode: MOVEMENT_NETWORK_CONFIG[network].fullnode\r\n                })\r\n            );\r\n            elizaLogger.debug(\"Created Aptos client with network:\", MOVEMENT_NETWORK_CONFIG[network].fullnode);\r\n\r\n            const walletInfo = await walletProvider.get(runtime, message, state);\r\n            state.walletInfo = walletInfo;\r\n\r\n            // Initialize or update state\r\n            if (!state) {\r\n                state = (await runtime.composeState(message)) as State;\r\n            } else {\r\n                state = await runtime.updateRecentMessageState(state);\r\n            }\r\n\r\n            // Compose transfer context\r\n            const transferContext = composeContext({\r\n                state,\r\n                template: transferTemplate,\r\n            });\r\n\r\n            // Generate transfer content\r\n            const content = await generateObjectDeprecated({\r\n                runtime,\r\n                context: transferContext,\r\n                modelClass: ModelClass.SMALL,\r\n            });\r\n\r\n            // Validate transfer content\r\n            if (!isTransferContent(content)) {\r\n                console.error(\"Invalid content for TRANSFER_TOKEN action.\");\r\n                if (callback) {\r\n                    callback({\r\n                        text: \"Unable to process transfer request. Invalid content provided.\",\r\n                        content: { error: \"Invalid transfer content\" },\r\n                    });\r\n                }\r\n                return false;\r\n            }\r\n\r\n            const adjustedAmount = BigInt(\r\n                Number(content.amount) * Math.pow(10, MOVE_DECIMALS)\r\n            );\r\n            console.log(\r\n                `Transferring: ${content.amount} tokens (${adjustedAmount} base units)`\r\n            );\r\n\r\n            const tx = await aptosClient.transaction.build.simple({\r\n                sender: movementAccount.accountAddress.toStringLong(),\r\n                data: {\r\n                    function: \"0x1::aptos_account::transfer\",\r\n                    typeArguments: [],\r\n                    functionArguments: [content.recipient, adjustedAmount],\r\n                },\r\n            });\r\n            const committedTransaction =\r\n                await aptosClient.signAndSubmitTransaction({\r\n                    signer: movementAccount,\r\n                    transaction: tx,\r\n                });\r\n            const executedTransaction = await aptosClient.waitForTransaction({\r\n                transactionHash: committedTransaction.hash,\r\n            });\r\n\r\n            const explorerUrl = `${MOVEMENT_EXPLORER_URL}/${executedTransaction.hash}?network=${MOVEMENT_NETWORK_CONFIG[network].explorerNetwork}`;\r\n            elizaLogger.debug(\"Transfer successful:\", {\r\n                hash: executedTransaction.hash,\r\n                amount: content.amount,\r\n                recipient: content.recipient,\r\n                explorerUrl\r\n            });\r\n\r\n            if (callback) {\r\n                callback({\r\n                    text: `Successfully transferred ${content.amount} MOVE to ${content.recipient}\\nTransaction: ${executedTransaction.hash}\\nView on Explorer: ${explorerUrl}`,\r\n                    content: {\r\n                        success: true,\r\n                        hash: executedTransaction.hash,\r\n                        amount: content.amount,\r\n                        recipient: content.recipient,\r\n                        explorerUrl\r\n                    },\r\n                });\r\n            }\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error(\"Error during token transfer:\", error);\r\n            if (callback) {\r\n                callback({\r\n                    text: `Error transferring tokens: ${error.message}`,\r\n                    content: { error: error.message },\r\n                });\r\n            }\r\n            return false;\r\n        }\r\n    },\r\n\r\n    examples: [\r\n        [\r\n            {\r\n                user: \"{{user1}}\",\r\n                content: {\r\n                    text: \"can you send 1 move to 0xa07ab7d3739dc793f9d538f7d7163705176ba59f7a8c994a07357a3a7d97d843\",\r\n                },\r\n            },\r\n            {\r\n                user: \"{{user2}}\",\r\n                content: {\r\n                    text: \"I'll help you transfer 1 Move token...\",\r\n                    action: \"TRANSFER_MOVE\",\r\n                },\r\n            },\r\n        ],\r\n        [\r\n            {\r\n                user: \"{{user1}}\",\r\n                content: {\r\n                    text: \"send 1 move to 0xa07ab7d3739dc793f9d538f7d7163705176ba59f7a8c994a07357a3a7d97d843\",\r\n                },\r\n            },\r\n            {\r\n                user: \"{{user2}}\",\r\n                content: {\r\n                    text: \"Processing Move token transfer...\",\r\n                    action: \"TRANSFER_MOVE\",\r\n                },\r\n            },\r\n        ]\r\n    ] as ActionExample[][],\r\n} as Action;\r\n","import {\r\n    IAgentRuntime,\r\n    ICacheManager,\r\n    Memory,\r\n    Provider,\r\n    State,\r\n} from \"@elizaos/core\";\r\nimport {\r\n    Account,\r\n    Aptos,\r\n    AptosConfig,\r\n    Ed25519PrivateKey,\r\n    Network,\r\n    PrivateKey,\r\n    PrivateKeyVariants,\r\n} from \"@aptos-labs/ts-sdk\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport NodeCache from \"node-cache\";\r\nimport * as path from \"path\";\r\nimport { MOVE_DECIMALS, MOVEMENT_NETWORK_CONFIG } from \"../constants\";\r\n\r\n// Provider configuration\r\nconst PROVIDER_CONFIG = {\r\n    MAX_RETRIES: 3,\r\n    RETRY_DELAY: 2000,\r\n};\r\n\r\ninterface WalletPortfolio {\r\n    totalUsd: string;\r\n    totalMove: string;\r\n}\r\n\r\ninterface Prices {\r\n    move: { usd: string };\r\n}\r\n\r\nexport class WalletProvider {\r\n    private cache: NodeCache;\r\n    private cacheKey: string = \"movement/wallet\";\r\n\r\n    constructor(\r\n        private aptosClient: Aptos,\r\n        private address: string,\r\n        private cacheManager: ICacheManager\r\n    ) {\r\n        this.cache = new NodeCache({ stdTTL: 300 }); // Cache TTL set to 5 minutes\r\n    }\r\n\r\n    private async readFromCache<T>(key: string): Promise<T | null> {\r\n        const cached = await this.cacheManager.get<T>(\r\n            path.join(this.cacheKey, key)\r\n        );\r\n        return cached;\r\n    }\r\n\r\n    private async writeToCache<T>(key: string, data: T): Promise<void> {\r\n        await this.cacheManager.set(path.join(this.cacheKey, key), data, {\r\n            expires: Date.now() + 5 * 60 * 1000,\r\n        });\r\n    }\r\n\r\n    private async getCachedData<T>(key: string): Promise<T | null> {\r\n        // Check in-memory cache first\r\n        const cachedData = this.cache.get<T>(key);\r\n        if (cachedData) {\r\n            return cachedData;\r\n        }\r\n\r\n        // Check file-based cache\r\n        const fileCachedData = await this.readFromCache<T>(key);\r\n        if (fileCachedData) {\r\n            // Populate in-memory cache\r\n            this.cache.set(key, fileCachedData);\r\n            return fileCachedData;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private async setCachedData<T>(cacheKey: string, data: T): Promise<void> {\r\n        // Set in-memory cache\r\n        this.cache.set(cacheKey, data);\r\n\r\n        // Write to file-based cache\r\n        await this.writeToCache(cacheKey, data);\r\n    }\r\n\r\n    private async fetchPricesWithRetry() {\r\n        let lastError: Error;\r\n\r\n        for (let i = 0; i < PROVIDER_CONFIG.MAX_RETRIES; i++) {\r\n            try {\r\n                const MoveUsdcPoolAddr =\r\n                    \"0xA04d13F092f68F603A193832222898B0d9f52c71\";\r\n                const response = await fetch(\r\n                    `https://api.dexscreener.com/latest/dex/pairs/ethereum/${MoveUsdcPoolAddr}`\r\n                );\r\n\r\n                if (!response.ok) {\r\n                    const errorText = await response.text();\r\n                    throw new Error(\r\n                        `HTTP error! status: ${response.status}, message: ${errorText}`\r\n                    );\r\n                }\r\n\r\n                const data = await response.json();\r\n                return data;\r\n            } catch (error) {\r\n                console.error(`Attempt ${i + 1} failed:`, error);\r\n                lastError = error;\r\n                if (i < PROVIDER_CONFIG.MAX_RETRIES - 1) {\r\n                    const delay = PROVIDER_CONFIG.RETRY_DELAY * Math.pow(2, i);\r\n                    await new Promise((resolve) => setTimeout(resolve, delay));\r\n                    continue;\r\n                }\r\n            }\r\n        }\r\n\r\n        console.error(\r\n            \"All attempts failed. Throwing the last error:\",\r\n            lastError\r\n        );\r\n        throw lastError;\r\n    }\r\n\r\n    async fetchPortfolioValue(): Promise<WalletPortfolio> {\r\n        try {\r\n            const cacheKey = `portfolio-${this.address}`;\r\n            const cachedValue =\r\n                await this.getCachedData<WalletPortfolio>(cacheKey);\r\n\r\n            if (cachedValue) {\r\n                console.log(\"Cache hit for fetchPortfolioValue\", cachedValue);\r\n                return cachedValue;\r\n            }\r\n            console.log(\"Cache miss for fetchPortfolioValue\");\r\n\r\n            const prices = await this.fetchPrices().catch((error) => {\r\n                console.error(\"Error fetching Move price:\", error);\r\n                throw error;\r\n            });\r\n            const moveAmountOnChain = await this.aptosClient\r\n                .getAccountAPTAmount({\r\n                    accountAddress: this.address,\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error fetching Move amount:\", error);\r\n                    throw error;\r\n                });\r\n\r\n            const moveAmount = new BigNumber(moveAmountOnChain).div(\r\n                new BigNumber(10).pow(MOVE_DECIMALS)\r\n            );\r\n            const totalUsd = new BigNumber(moveAmount).times(prices.move.usd);\r\n\r\n            const portfolio = {\r\n                totalUsd: totalUsd.toString(),\r\n                totalMove: moveAmount.toString(),\r\n            };\r\n            this.setCachedData(cacheKey, portfolio);\r\n            console.log(\"Fetched portfolio:\", portfolio);\r\n            return portfolio;\r\n        } catch (error) {\r\n            console.error(\"Error fetching portfolio:\", error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async fetchPrices(): Promise<Prices> {\r\n        try {\r\n            const cacheKey = \"prices\";\r\n            const cachedValue = await this.getCachedData<Prices>(cacheKey);\r\n\r\n            if (cachedValue) {\r\n                console.log(\"Cache hit for fetchPrices\");\r\n                return cachedValue;\r\n            }\r\n            console.log(\"Cache miss for fetchPrices\");\r\n\r\n            const movePriceData = await this.fetchPricesWithRetry().catch(\r\n                (error) => {\r\n                    console.error(\"Error fetching Move price:\", error);\r\n                    throw error;\r\n                }\r\n            );\r\n            const prices: Prices = {\r\n                move: { usd: movePriceData.pair.priceUsd },\r\n            };\r\n            this.setCachedData(cacheKey, prices);\r\n            return prices;\r\n        } catch (error) {\r\n            console.error(\"Error fetching prices:\", error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    formatPortfolio(runtime, portfolio: WalletPortfolio): string {\r\n        let output = `${runtime.character.name}\\n`;\r\n        output += `Wallet Address: ${this.address}\\n`;\r\n\r\n        const totalUsdFormatted = new BigNumber(portfolio.totalUsd).toFixed(2);\r\n        const totalMoveFormatted = new BigNumber(portfolio.totalMove).toFixed(4);\r\n\r\n        output += `Total Value: $${totalUsdFormatted} (${totalMoveFormatted} Move)\\n`;\r\n\r\n        return output;\r\n    }\r\n\r\n    async getFormattedPortfolio(runtime): Promise<string> {\r\n        try {\r\n            const portfolio = await this.fetchPortfolioValue();\r\n            return this.formatPortfolio(runtime, portfolio);\r\n        } catch (error) {\r\n            console.error(\"Error generating portfolio report:\", error);\r\n            return \"Unable to fetch wallet information. Please try again later.\";\r\n        }\r\n    }\r\n}\r\n\r\nconst walletProvider: Provider = {\r\n    get: async (\r\n        runtime: IAgentRuntime,\r\n        _message: Memory,\r\n        _state?: State\r\n    ): Promise<string | null> => {\r\n        const privateKey = runtime.getSetting(\"MOVEMENT_PRIVATE_KEY\");\r\n        const movementAccount = Account.fromPrivateKey({\r\n            privateKey: new Ed25519PrivateKey(\r\n                PrivateKey.formatPrivateKey(\r\n                    privateKey,\r\n                    PrivateKeyVariants.Ed25519\r\n                )\r\n            ),\r\n        });\r\n        const network = runtime.getSetting(\"MOVEMENT_NETWORK\") as Network;\r\n\r\n        try {\r\n            const aptosClient = new Aptos(\r\n                new AptosConfig({\r\n                    network: Network.CUSTOM,\r\n                    fullnode: MOVEMENT_NETWORK_CONFIG[network].fullnode\r\n                })\r\n            );\r\n            const provider = new WalletProvider(\r\n                aptosClient,\r\n                movementAccount.accountAddress.toStringLong(),\r\n                runtime.cacheManager\r\n            );\r\n            return await provider.getFormattedPortfolio(runtime);\r\n        } catch (error) {\r\n            console.error(\"Error in wallet provider:\", error);\r\n            return null;\r\n        }\r\n    },\r\n};\r\n\r\n// Module exports\r\nexport { walletProvider };\r\n","export const MOVE_DECIMALS = 8;\r\n\r\nexport const MOVEMENT_NETWORK_CONFIG = {\r\n    mainnet: {\r\n        fullnode: 'https://mainnet.movementnetwork.xyz/v1',\r\n        chainId: '126',\r\n        name: 'Movement Mainnet',\r\n        explorerNetwork: 'mainnet'\r\n    },\r\n    bardock: {\r\n        fullnode: 'https://aptos.testnet.bardock.movementlabs.xyz/v1',\r\n        chainId: '250',\r\n        name: 'Movement Bardock Testnet',\r\n        explorerNetwork: 'bardock+testnet'\r\n    }\r\n} as const;\r\n\r\nexport const DEFAULT_NETWORK = 'bardock';\r\nexport const MOVEMENT_EXPLORER_URL = 'https://explorer.movementnetwork.xyz/txn';","import { Plugin } from \"@elizaos/core\";\r\nimport transferToken from \"./actions/transfer\";\r\nimport { WalletProvider, walletProvider } from \"./providers/wallet\";\r\n\r\nexport { WalletProvider, transferToken as TransferMovementToken };\r\n\r\nexport const movementPlugin: Plugin = {\r\n    name: \"movement\",\r\n    description: \"Movement Network Plugin for Eliza\",\r\n    actions: [transferToken],\r\n    evaluators: [],\r\n    providers: [walletProvider],\r\n};\r\n\r\nexport default movementPlugin;\r\n"],"mappings":"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","names":["Account","Aptos","AptosConfig","Ed25519PrivateKey","Network","PrivateKey","PrivateKeyVariants","Account","Ed25519PrivateKey","PrivateKey","PrivateKeyVariants","Aptos","AptosConfig","Network"]}